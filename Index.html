<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>üíò</title>

  <style>
    :root{
      --bg1:#f7f7f7;
      --bg2:#efefef;
      --card: rgba(255,255,255,.80);
      --text:#141414;
      --muted: rgba(0,0,0,.55);
      --shadow: 0 14px 40px rgba(0,0,0,.18);
      --radius: 22px;
    }
    *{ box-sizing: border-box; }
    body{
      margin:0;
      min-height:100vh;
      overflow:hidden;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      background: radial-gradient(circle at top, var(--bg1), var(--bg2));
    }

    
    #hearts{
      position: fixed;
      inset: 0;
      overflow: hidden;
      pointer-events: none;
      z-index: 0;
    }
    .heart{
      position: absolute;
      bottom: -40px;
      font-size: 26px;
      opacity: 0.85;
      animation-name: floatUp;
      animation-timing-function: linear;
      will-change: transform, opacity;
      filter: drop-shadow(0 4px 6px rgba(0,0,0,.12));
      user-select: none;
    }
    @keyframes floatUp{
      0%   { transform: translateY(0) translateX(0) rotate(0deg); opacity: 0; }
      10%  { opacity: .9; }
      100% { transform: translateY(-120vh) translateX(var(--drift)) rotate(var(--rot)); opacity: 0; }
    }

    .wrap{
      position: relative;
      z-index: 1;
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 18px;
    }
    .card{
      width: min(650px, 92vw);
      min-height: 360px;
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(8px);
      border: 1px solid rgba(0,0,0,.06);
      padding: 22px;
      position: relative;
    }

    
    .topbar{
      position: absolute;
      top: 16px;
      right: 16px;
      display: flex;
      align-items: center;
      gap: 10px;
      color: var(--muted);
      font-size: 14px;
      z-index: 10;
    }
    .switch{
      width: 54px;
      height: 30px;
      border-radius: 999px;
      background: rgba(0,0,0,.12);
      position: relative;
      cursor: pointer;
      border: 1px solid rgba(0,0,0,.10);
    }
    .knob{
      position: absolute;
      top: 50%;
      left: 4px;
      width: 22px;
      height: 22px;
      border-radius: 999px;
      transform: translateY(-50%);
      background: white;
      box-shadow: 0 6px 18px rgba(0,0,0,.18);
      transition: left .18s ease;
    }
    .switch.on{ background: rgba(40,167,69,.35); }
    .switch.on .knob{ left: 28px; }

    .screen{ display:none; }
    .screen.active{ display:block; }

    .center{
      margin-top: 22px;
      min-height: 300px;
      display: grid;
      place-items: center;
      padding: 10px 6px 6px;
    }

    h1{ margin: 0 0 8px; font-size: 28px; }
    p{ margin: 0 0 14px; color: var(--muted); }

    
    .playground{
      width: min(520px, 86vw);
      height: 220px;
      border-radius: 18px;
      background: rgba(255,255,255,.60);
      border: 1px solid rgba(0,0,0,.06);
      position: relative;
      overflow: hidden;
      display: grid;
      place-items: center;
      padding: 10px;
    }
    button{
      border: 0;
      border-radius: 14px;
      padding: 12px 18px;
      font-size: 16px;
      cursor: pointer;
      user-select:none;
      transition: transform .08s ease;
    }
    button:active{ transform: scale(.98); }

    #yesBtn{
      background:#28a745;
      color:white;
      position:absolute;
      left: 50%;
      top: 52%;
      transform: translate(-50%,-50%);
    }
    #noBtn{
      background:#ff4d4d;
      color:white;
      position:absolute;
      left: 50%;
      top: 78%;
      transform: translate(-50%,-50%);
      touch-action: manipulation;
    }

    
    .sliderBox{
      width: min(520px, 86vw);
      border-radius: 18px;
      background: rgba(255,255,255,.60);
      border: 1px solid rgba(0,0,0,.06);
      padding: 16px;
      text-align: left;
    }
    input[type="range"]{ width: 100%; accent-color: #ff4d88; }

    .row{
      display:flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      flex-wrap: wrap;
      margin-top: 10px;
    }
    .value{ font-weight: 900; font-size: 20px; }
    .pill{
      display:inline-flex;
      align-items:center;
      gap:8px;
      padding: 10px 14px;
      border-radius: 999px;
      background: rgba(0,0,0,.06);
      color: rgba(0,0,0,.65);
      font-size: 14px;
    }

    .message{
      margin-top: 14px;
      padding: 14px;
      border-radius: 16px;
      background: rgba(255,255,255,.75);
      border: 1px solid rgba(0,0,0,.06);
      white-space: pre-wrap;
      line-height: 1.45;
      display:none;
    }
    .message.show{ display:block; }

    .actions{
      display:flex;
      justify-content:center;
      gap:10px;
      margin-top: 14px;
      flex-wrap: wrap;
    }
    .mutedBtn{
      background: rgba(0,0,0,.08);
      color: rgba(0,0,0,.7);
    }
    .primaryBtn{
      background:#28a745;
      color:white;
    }

    .hint{
      margin-top: 10px;
      font-size: 12px;
      color: rgba(0,0,0,.55);
      text-align:center;
    }

    
    .finalBox{
      width: min(520px, 86vw);
      border-radius: 18px;
      background: rgba(255,255,255,.60);
      border: 1px solid rgba(0,0,0,.06);
      padding: 18px;
      text-align: left;
      line-height: 1.55;
      white-space: pre-wrap;
    }

    
    @keyframes shakeCrazy {
      0%   { transform: translateX(-50%) rotate(-0.5deg); }
      25%  { transform: translateX(-50%) rotate(0.5deg); }
      50%  { transform: translateX(-50%) rotate(-0.5deg); }
      75%  { transform: translateX(-50%) rotate(0.5deg); }
      100% { transform: translateX(-50%) rotate(-0.5deg); }
    }

    #loveSlider.crazy{
      position: fixed;
      left: 50%;
      top: 9%;
      width: 140vw;                 
      z-index: 9999;
      transform: translateX(-50%);
      animation: shakeCrazy 0.12s infinite;
      filter: drop-shadow(0 18px 55px rgba(0,0,0,.25));
    }

    /* Track a bit thicker in crazy mode */#loveSlider.crazy::-webkit-slider-runnable-track { height: 8px; }
    #loveSlider.crazy::-moz-range-track { height: 8px; }

    
    #musicStatus{
      position: absolute;
      top: 48px;
      right: 16px;
      font-size: 12px;
      color: rgba(0,0,0,.55);
      z-index: 10;
    }
  </style>
</head>

<body>
  <div id="hearts"></div>

  
  <audio id="bgm" src="music.mp3" loop preload="auto"></audio>

  <div class="wrap">
    <div class="card">
      <div class="topbar">
        <span>buton on/off muzica</span>
        <div id="musicSwitch" class="switch" role="switch" aria-checked="false" tabindex="0">
          <div class="knob"></div>
        </div>
      </div>
      <div id="musicStatus"></div>

      
      <div id="screen1" class="screen active">
        <div class="center">
          <div style="text-align:center;">
            <h1>My lil baby, will you be my Valentine? üíò</h1>
            <p>Alege cu grijƒÉ‚Ä¶</p>

            <div class="playground" id="playground">
              <button id="yesBtn">YES üíñ</button>
              <button id="noBtn">NO üôÉ</button>
            </div>

            <div class="hint">(Incearca prima data sa apesi pe No)</div>
          </div>
        </div>
      </div>

      
      <div id="screen2" class="screen">
        <div class="center">
          <div style="text-align:center;">
            <h1>C√¢t mƒÉ iube»ôti? ü•∫</h1>
            <p>Trage de slider‚Ä¶ </p>

            <div class="sliderBox">
              <div class="row">
                <span class="pill">‚¨ÖÔ∏è pu»õin</span>
                <span class="pill">mult ‚û°Ô∏è</span>
              </div>

              <div style="margin-top:12px;">
                <input id="loveSlider" type="range" min="0" max="100" value="50" />
              </div>

              <div class="row">
                <div id="loveValue" class="value">50 / 100</div>
                <div id="statePill" class="pill">Trage‚Ä¶</div>
              </div>

              <div id="sliderReaction" class="message"></div>
              <div id="infinityText" class="message"></div>

              <div class="actions" style="margin-top:12px;">
                <button id="extraBtn" class="primaryBtn" style="display:none;">apasa pentru inca ceva</button>
              </div>
            </div>

            <div class="actions">
              <button id="back" class="mutedBtn">‚¨ÖÔ∏è √énapoi</button>
              <button id="restart" class="mutedBtn">üîÑ Restart</button>
            </div>

            <div class="hint">Treci de la zero la maxim(maximul este optional)</div>
          </div>
        </div>
      </div>

      
      <div id="screen3" class="screen">
        <div class="center">
          <div style="text-align:center;">
            <h1>üíå</h1>
            <p>Am ceva pentru tine‚Ä¶</p>

            <div id="finalMessage" class="finalBox"></div>

            <div class="actions">
              <button id="restart2" class="mutedBtn">üîÑ Restart</button>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

<script>
  
  const heartsLayer = document.getElementById("hearts");
  const HEART = "ü§ç";

  function spawnHeart(){
    const el = document.createElement("div");
    el.className = "heart";
    el.textContent = HEART;

    const size = 18 + Math.random() * 22;
    const left = Math.random() * 100;
    const dur  = 6 + Math.random() * 6;
    const drift = (Math.random() * 80 - 40).toFixed(0) + "px";
    const rot = (Math.random() * 120 - 60).toFixed(0) + "deg";

    el.style.left = left + "vw";
    el.style.fontSize = size + "px";
    el.style.animationDuration = dur + "s";
    el.style.setProperty("--drift", drift);
    el.style.setProperty("--rot", rot);

    heartsLayer.appendChild(el);
    setTimeout(() => el.remove(), (dur + 0.5) * 1000);
  }

  const HEARTS_PER_SECOND = 3;
  setInterval(() => { for (let i = 0; i < HEARTS_PER_SECOND; i++) spawnHeart(); }, 1000);
  for (let i = 0; i < 12; i++) setTimeout(spawnHeart, i * 120);

  
  const bgm = document.getElementById("bgm");
  const musicSwitch = document.getElementById("musicSwitch");
  const musicStatus = document.getElementById("musicStatus");

  function setSwitch(on){
    musicSwitch.classList.toggle("on", on);
    musicSwitch.setAttribute("aria-checked", on ? "true" : "false");
  }

  function setMusicStatus(text){
    musicStatus.textContent = text || "";
  }

  async function startMusic(){
    try {
      
      bgm.load();
      await bgm.play();
      setSwitch(true);
      setMusicStatus("üéµ muzica pornitƒÉ");
    } catch(e){
      setSwitch(false);
      
      setMusicStatus("‚ùå nu pot porni muzica ");
      console.warn("Audio play failed:", e);
    }
  }

  function stopMusic(){
    bgm.pause();
    setSwitch(false);
    setMusicStatus("üîá muzica opritƒÉ");
  }

  function toggleMusic(){
    if (bgm.paused) startMusic();
    else stopMusic();
  }

  musicSwitch.addEventListener("click", toggleMusic);
  musicSwitch.addEventListener("keydown", (e) => {
    if (e.key === "Enter" || e.key === " ") { e.preventDefault(); toggleMusic(); }
  });

  
  const screen1 = document.getElementById("screen1");
  const screen2 = document.getElementById("screen2");
  const screen3 = document.getElementById("screen3");

  function showScreen(n){
    screen1.classList.toggle("active", n === 1);
    screen2.classList.toggle("active", n === 2);
    screen3.classList.toggle("active", n === 3);
  }

  
  const playground = document.getElementById("playground");
  const noBtn = document.getElementById("noBtn");
  const yesBtn = document.getElementById("yesBtn");

  function moveNoButton(){
    const area = playground.getBoundingClientRect();
    const btn = noBtn.getBoundingClientRect();
    const padding = 10;

    const maxX = Math.max(0, area.width - btn.width - padding);
    const maxY = Math.max(0, area.height - btn.height - padding);

    const x = Math.random() * maxX + padding;
    const y = Math.random() * maxY + padding;

    noBtn.style.left = x + "px";
    noBtn.style.top  = y + "px";
    noBtn.style.transform = "translate(0,0)";
  }

  noBtn.addEventListener("pointerdown", (e) => { e.preventDefault(); moveNoButton(); });
  noBtn.addEventListener("mouseenter", moveNoButton);
  yesBtn.addEventListener("click", () => showScreen(2));

  
  const slider = document.getElementById("loveSlider");
  const loveValue = document.getElementById("loveValue");
  const statePill = document.getElementById("statePill");
  const sliderReaction = document.getElementById("sliderReaction");
  const infinityText = document.getElementById("infinityText");
  const extraBtn = document.getElementById("extraBtn");

  
  const FINAL_MESSAGE = `Sper ca ti-a placut mica mea surpriza!
Te iubesc mult de tot si te rog sa nu uiti niciodata asta! 
Sunt mandru de tine si de tot ce ai realizat pana acum, esti o persoana minunata si meriti tot ce e mai bun in viata!
Abia astept sa petrecem mai mult timp impreuna si sa cream amintiri frumoase!
Iti multumesc ca esti in viata mea, ma sustii in tot ceea ce fac si ca ma faci sa zambesc in fiecare zi!
‚Äî Radu`;
  document.getElementById("finalMessage").textContent = FINAL_MESSAGE;

  
  function showBox(el, text){ el.textContent = text; el.classList.add("show"); }
  function hideBox(el){ el.classList.remove("show"); el.textContent = ""; }

  function reactionForRatio(r){
    if (r < 0.25) return "pe bune?? chiar at√¢t de pu»õin? üò≠";
    if (r < 0.50) return "pe bune doar a»ôa pu»õin? üòî";
    if (r < 0.75) return "hmm‚Ä¶ mai merge üòí";
    if (r < 1.00) return "aproape‚Ä¶ √ÆncƒÉ pu»õin üò≥";
    return "";
  }
  function liveLabel(r){
    if (r < 0.25) return "super pu»õin‚Ä¶";
    if (r < 0.50) return "pu»õin‚Ä¶ üòî";
    if (r < 0.75) return "ok‚Ä¶";
    if (r < 1.00) return "aproape‚Ä¶ üò≥";
    return "100% üíû";
  }

  let isInfinity = false;

  function renderLive(){
    const max = Number(slider.max);
    const val = Number(slider.value);
    const r = max > 0 ? (val / max) : 0;

    loveValue.textContent = `${val} / ${max}`;
    statePill.textContent = liveLabel(r);

    
    showBox(sliderReaction, reactionForRatio(r));
  }

  function enterInfinityMode(){
    isInfinity = true;

    
    slider.classList.add("crazy");

    loveValue.textContent = "‚àû";
    statePill.textContent = "E infinit üíû";

    hideBox(sliderReaction);
    showBox(infinityText, "eu te iubesc cel mai mult");
    extraBtn.style.display = "inline-block";

    infinityText.scrollIntoView({ behavior: "smooth", block: "center" });
  }

  function exitInfinityMode(){
    if (!isInfinity) return;
    isInfinity = false;

    slider.classList.remove("crazy");
    hideBox(infinityText);
    extraBtn.style.display = "none";
  }

  
  slider.addEventListener("input", () => {
    const max = Number(slider.max);
    const val = Number(slider.value);

    
    if (isInfinity && val < max) {
      exitInfinityMode();
    }

    
    if (!isInfinity) renderLive();
  });

  
  function onDrop(){
    const max = Number(slider.max);
    const val = Number(slider.value);

    if (val >= max){
      enterInfinityMode();
    } else {
      exitInfinityMode();
      renderLive();
    }
  }
  slider.addEventListener("change", onDrop);
  slider.addEventListener("pointerup", onDrop);
  slider.addEventListener("touchend", onDrop);

  
  extraBtn.addEventListener("click", () => showScreen(3));

  
  document.getElementById("back").addEventListener("click", () => showScreen(1));

  function fullReset(){
    exitInfinityMode();
    slider.value = "50";
    hideBox(sliderReaction);
    renderLive();
  }

  document.getElementById("restart").addEventListener("click", () => { fullReset(); showScreen(1); });
  document.getElementById("restart2").addEventListener("click", () => { fullReset(); showScreen(1); });

  
  renderLive();
</script>
</body>
</html>